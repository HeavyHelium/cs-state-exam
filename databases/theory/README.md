# Релационен модел на данните(тема 23)

Често пъти избираме релационния модел на представяне на данните, заради:

- простота - при релационната алгебра имаме операции, подобни на числови операции(алгебра, duh)

* независимост на данните - няма нужда да знаем вътрешното им представяне, ние ползваме абстрактното им релационно представяне
* съотвества на мисленето на човека
* еднообразен начин за преставяне на данните и връзките м/у тях във вид на таблица

## Основни понятия

`def` **_Релация(layman деф.)_**  
Релация представлява двумерна таблица, в коята съхраняваме данните

### Характеристики на релациите

0. Домейни
   С всеки атрибут на релацията е свързан домейн, т.е. мв-во от допустими стойности.

`Пример`

```
Movies(title: string, year: integer, length: integer, filmType: string)
```

- всеки домейн на атрибут, т.е. $dom(A_i)$ е от **атомарен** тип, напр. integer или string
  - съставни типове като списъци и масиви не се позволяват

1. Атрибути == имената на колоните на релацията
2. Схемa(на релация) == името на релацията и множеството от атрибутите ѝ
   - напр. `Movies(title, year, length, filmType)`

❗**забл.** атрибутите в релационната схема са множество, но за определеност указваме наредба

3. Кортежи == редовете в релацията(без заглавната част, разбира се)

   - t<sub>i</sub> е кортеж $\iff$ t<sub>i</sub> = <v<sub>1</sub>, ..., v<sub>n</sub>>,
     v<sub>j</sub> $\in$ (dom(A<sub>j</sub>) $\cup$ NULL).

`def` **_База данни_**  
Множество от релации.

`def` **_Схема на БД_**  
Множеството от всички схеми на релации в една БД наричаме схема на БД.

`def` **_Релация(формална дефиниция)_**

Нека **r е релация**(т.е. таблица). С **R** нека означим **нейната схема: R(A<sub>1</sub>, A<sub>2</sub>, ..., A<sub>n</sub>)**. Тогава r е математическа релация от степен **n** върху домейните dom(A<sub>1</sub>), ..., dom(A<sub>n</sub>).  
T.e. **r $\subset$ dom(A<sub>1</sub>) $\times$ ... $\times$ dom(A<sub>n</sub>)**.

Така r или r(R) е множество от n-tuples(кортежи):
r = {t<sub>1</sub>, ..., t<sub>m</sub>},
t<sub>i</sub> = <v<sub>1</sub>, ..., v<sub>n</sub>>,
v<sub>j</sub> $\in$ dom(A<sub>j</sub>) или е NULL.

`def` **_Екземпляр на релация_(current instance)**  
Множеството от кортежите за дадена релация наричаме екземпляр на релацията.

- **_докато екземплярите са статични множества кортежи, релациите са нестатични(т.е. в някакъв смисъл променливи), те съхраняват текущ екземпляр_**
  - т.е. множем да извършваме 2 типа промени:
    - insert, update, deletion of tuples
    - промени в схемата - по-рядко се случва

`def` **_Кардиналност на екземпляр на релация_**  
Броят на кортежите в текущия екземпляр, т.е. |r|

## Реализация на релационната база от данни

1. Определяне на данните, които ще се съхраняват
2. Определяне връзките м/у обектите, вкл. ключовеите атрибути на обектите, които съхраняваме
3. Определяне на ключовете
4. Определяне на ограничения в/у обектите и връзките м/у тях
5. Остраняване на недостатъци
6. Реализация на БД

## Видове операции върху релационната база от данни. Заявки към релационната БД

## Релационна алгебра

- основни - обединение, разлика, декартово произведение, проекция, селекция
- допълнителни - сечение, частно, съединение, естествено съединение

# Нормални форми(тема 24)

## Проектиране схемите на релационните бази от данни

## Аномалии,

## ограничения

## ключове

## Функционални зависимости, аксиоми на Армстронг

## Първа NF

## Втора NF

## Трета NF

## Бойс-Код NF(BCNF)

## Многозначни зависимости;

## аксиоми на функционалните и многозначните зависимости; съединение без загуба;

## Четвърта нормална форма.
